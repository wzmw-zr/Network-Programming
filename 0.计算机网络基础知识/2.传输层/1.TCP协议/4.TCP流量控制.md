# TCP流量控制

TCP流量控制来消除发送方使接收缓存区溢出的可能性，**实际上就是根据对端的接受能力调整速度。**因此可以说**流量控制是一个速度匹配服务，匹配发送方的发送速率和接受方的读取速率。**

TCP提供一种基于==**滑动窗口的流量控制机制**==。在通信过程中，接受方根据自己的接收缓存的大小(**称为接收窗口 `rwnd`**)，动态地调整发送方的发送窗口大小，接收窗口即TCP报文段首部中的“窗口”字段的值，**用来限制发送方向网络注入报文的速率**。

**==影响接收窗口`rwnd`的是接收方的接收缓存区的大小。==**

`rwnd`即接受方允许连续接收的最大能力，单位是字节，发送方A总是根据最新收到的`rwnd`值来限制自己的发送窗口大小。**发送方总是根据最新收到的`rwnd`值来限制自己的发送窗口的大小，从而将未确认的数据量控制在`rwnd`大小之内，==这部分未确认的数据量是包括已经发出去但是还没有收到确认的报文段==，保证不会使得接受方的接收缓存溢出。**

当然，发送窗口还受到拥塞窗口`cwnd`的影响，实际取接收窗口与拥塞窗口中的较小值。